

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>How to reuse GIN datasets &mdash; ChildProject 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Converting a dataset" href="vandam.html" />
    <link rel="prev" title="Datasets structure" href="format.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> ChildProject
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting-started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-data.html">Getting some data</a></li>
<li class="toctree-l1"><a class="reference internal" href="format.html">Datasets structure</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">How to reuse GIN datasets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installing-datalad">Installing datalad</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setup-your-gin-account">Setup your GIN account</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installing-a-dataset">Installing a dataset</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#downloading-large-files">Downloading large files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#updating-a-dataset">Updating a dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installing-all-our-datasets-at-once">Installing all our datasets at once</a></li>
<li class="toctree-l2"><a class="reference internal" href="#contributing">Contributing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pushing-changes-to-a-dataset">Pushing changes to a dataset</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="vandam.html">Converting a dataset</a></li>
</ul>
<p class="caption"><span class="caption-text">Command-line tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tools.html">Basic tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="samplers.html">Samplers</a></li>
<li class="toctree-l1"><a class="reference internal" href="elan.html">ELAN builder</a></li>
<li class="toctree-l1"><a class="reference internal" href="zooniverse.html">Zooniverse</a></li>
<li class="toctree-l1"><a class="reference internal" href="cheatsheet.html">Cheatsheet</a></li>
</ul>
<p class="caption"><span class="caption-text">Package reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">ChildProject</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples of python scripts</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ChildProject</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>How to reuse GIN datasets</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/reuse.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="how-to-reuse-gin-datasets">
<h1>How to reuse GIN datasets<a class="headerlink" href="#how-to-reuse-gin-datasets" title="Permalink to this headline">¶</a></h1>
<p>Our datasets are managed with <a class="reference external" href="https://www.datalad.org/">datalad</a>. Datalad
allows the versioning and distribution of large datasets. Datalad relies
on another tool called
<a class="reference external" href="https://git-annex.branchable.com/">git-annex</a>, which itself is an
extension of git providing support for large file versioning with a high
flexibility.</p>
<p>We host the data on <a class="reference external" href="http://gin.g-node.org/">GIN</a>. GIN’s interface
is really similar to GitHub, but unlike the latter, GIN can handle
our large files.</p>
<div class="section" id="installing-datalad">
<h2>Installing datalad<a class="headerlink" href="#installing-datalad" title="Permalink to this headline">¶</a></h2>
<p>The DataLad handbook provides extensive instructions for the
installation of DataLad in their <a class="reference external" href="http://handbook.datalad.org/en/latest/intro/installation.html#install">handbook</a>.</p>
<p>If you have admin rights and are working on Linux or Mac, the following
should work:</p>
<ol class="arabic simple">
<li><p>Install git-annex using <code class="docutils literal notranslate"><span class="pre">apt</span> <span class="pre">install</span> <span class="pre">git-annex</span></code> (linux) or
<code class="docutils literal notranslate"><span class="pre">brew</span> <span class="pre">install</span> <span class="pre">git-annex</span></code> (mac). Git-annex is available by default
on Oberon.</p></li>
<li><p>Install datalad with pip : <code class="docutils literal notranslate"><span class="pre">pip3</span> <span class="pre">install</span> <span class="pre">datalad</span></code></p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are still having permission issues, consider using python virtual
environments or conda (see <a class="reference external" href="http://handbook.datalad.org/en/latest/intro/installation.html#install">DataLad’s handbook</a>).
Otherwise, refer to your system administrator.</p>
</div>
</div>
<div class="section" id="setup-your-gin-account">
<h2>Setup your GIN account<a class="headerlink" href="#setup-your-gin-account" title="Permalink to this headline">¶</a></h2>
<p>Most repositories are private, and thus require authentication.
We recommend that you always use SSH authentication and we will only
provide instructions for this case.</p>
<p>Before anything, you will need to create an account on <a class="reference external" href="https://gin.g-node.org/">GIN</a>,
and to link your <a class="reference external" href="https://gin.g-node.org/user/settings/ssh">SSH public key</a> to your
GIN account.</p>
<ol class="arabic simple">
<li><p>Create an account on GIN</p></li>
<li><p>Copy your SSH public key (usually located in <code class="docutils literal notranslate"><span class="pre">~/.ssh/id_rsa.pub</span></code>)</p></li>
<li><p>Go to <a class="reference external" href="https://gin.g-node.org/user/settings/ssh">GIN &gt; Settings &gt; SSH Keys</a></p></li>
<li><p>Click on the blue button ‘Add a key’ and paste your public key
where requested.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Remember to communicate your username to the data administrator
before you try to access the data
in order for him to grant you permissions.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can configure as many keys as necessary. This is useful when you
need to access GIN from different locations with different SSH keys
(e.g. from your lab cluster, or from your own laptop).</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You may consider enabling the Keychain
(append <code class="docutils literal notranslate"><span class="pre">~/.ssh/config</span></code> with <code class="docutils literal notranslate"><span class="pre">UseKeychain</span> <span class="pre">yes</span></code>)
if you are prompted for your SSH passphrase everytime.</p>
</div>
<div class="section" id="installing-a-dataset">
<h3>Installing a dataset<a class="headerlink" href="#installing-a-dataset" title="Permalink to this headline">¶</a></h3>
<p>Installing a dataset can be done with the <cite>datalad install</cite> command.
The input is the SSH location of the dataset. It can be found on
the page of the repository on GIN.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>datalad install git@gin.g-node.org:/LAAC-LSCP/vandam-data.git
<span class="nb">cd</span> vandam-data
</pre></div>
</div>
<p>Datasets that contain subdatasets can be installed recursively using the -r switch.
This is the case of the EL1000 dataset:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>datalad install git@gin.g-node.org:/EL1000/EL1000.git
<span class="nb">cd</span> EL1000
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Some datasets may require additional configuration steps.
Pay attention to the README before you start using a dataset.</p>
</div>
<p>That’s it ! Your dataset is ready to go. By default, large files do not
get downloaded automatically. See the next section for help with
downloading those files.</p>
</div>
</div>
<div class="section" id="downloading-large-files">
<h2>Downloading large files<a class="headerlink" href="#downloading-large-files" title="Permalink to this headline">¶</a></h2>
<p>Files can be retrieved using <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">get</span> <span class="pre">[path]</span></code>. For instance,
<code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">get</span> <span class="pre">recordings</span></code> will download all recordings.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Technically speaking, the large files in your repository are symbolic links
pointing to their actual location, somewhere under <cite>.git</cite>.
You can ignore that and read/copy the content of these files as if they where
actual files.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you want to <em>edit</em> the content of a large file, you will need to unlock it
beforehand, using <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">unlock</span></code>,
e.g.: <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">unlock</span> <span class="pre">annotations/vtc/converted</span></code>.</p>
</div>
</div>
<div class="section" id="updating-a-dataset">
<h2>Updating a dataset<a class="headerlink" href="#updating-a-dataset" title="Permalink to this headline">¶</a></h2>
<p>A dataset can be updated from the sources using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code> together
with <code class="docutils literal notranslate"><span class="pre">dataset</span> <span class="pre">update</span></code>.</p>
</div>
<div class="section" id="installing-all-our-datasets-at-once">
<h2>Installing all our datasets at once<a class="headerlink" href="#installing-all-our-datasets-at-once" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="contributing">
<h2>Contributing<a class="headerlink" href="#contributing" title="Permalink to this headline">¶</a></h2>
<div class="section" id="pushing-changes-to-a-dataset">
<h3>Pushing changes to a dataset<a class="headerlink" href="#pushing-changes-to-a-dataset" title="Permalink to this headline">¶</a></h3>
<p>You can save local changes to a dataset with
<code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">save</span> <span class="pre">[path]</span> <span class="pre">-m</span> <span class="pre">&quot;commit</span> <span class="pre">message&quot;</span></code>. For instance :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">datalad</span> <span class="n">save</span> <span class="n">annotations</span><span class="o">/</span><span class="n">vtc</span><span class="o">/</span><span class="n">raw</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;adding vtc rttms&quot;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">save</span></code> is analoguous to a combination of <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> and
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code>.</p>
<p>These changes still have to be pushed, which can be done with :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">datalad</span> <span class="n">push</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="vandam.html" class="btn btn-neutral float-right" title="Converting a dataset" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="format.html" class="btn btn-neutral float-left" title="Datasets structure" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Lucas Gautheron.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>